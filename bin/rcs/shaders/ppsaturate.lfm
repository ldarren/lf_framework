[renderfeature]
name=ERPF_PP_SATURATE
[ERPL_POSTPROCESS]
	pass=ERP_MAIN
[/ERPL_POSTPROCESS]
[/renderfeature]

[renderpass]
    feature = ERPF_PP_SATURATE
    lang = glsl
    quality = 100
    pipeline=ERPL_POSTPROCESS
    pass=ERP_MAIN
    stage = ERPS_MAIN
    numtextures = 1

	[vertexshader]
		code = \
                void main()\
                {\
                    gl_TexCoord[0] = gl_MultiTexCoord0;\
                    gl_Position = ftransform();\
                }
	[/vertexshader]

	[pixelshader]
		code = \
                uniform sampler2D tex0;\
                uniform float Saturation; \
                const vec3 LumCoeff = vec3(0.2125, 0.7154, 0.0721); \
                void main()\
                {\
									vec3 color = texture2D(tex0,gl_TexCoord[0].st).rgb; \
									vec3 intensity = vec3(dot(color, LumCoeff)); \
									color = mix(intensity,color,Saturation); \
									gl_FragColor = vec4(color,1.0);\
                }
	[/pixelshader]

	[param]
		name=Saturation
		type=ERPPT_F32
		size=1
		source=ERPPS_NODE
		default=0.5
	[/param]
[/renderpass]