[renderfeature]
name=ERPF_PP_CONTRAST
[ERPL_POSTPROCESS]
	pass=ERP_MAIN
[/ERPL_POSTPROCESS]
[/renderfeature]

[renderpass]
    feature = ERPF_PP_CONTRAST
    lang = glsl
    quality = 100
    pipeline=ERPL_POSTPROCESS
    pass=ERP_MAIN
    stage = ERPS_MAIN
    numtextures = 1

	[vertexshader]
		code = \
                void main()\
                {\
                    gl_TexCoord[0] = gl_MultiTexCoord0;\
                    gl_Position = ftransform();\
                }
	[/vertexshader]

	[pixelshader]
		code = \
                uniform sampler2D tex0;\
                uniform float Contrast; \
                void main()\
                {\
                	vec3 avgLum = vec3(0.299,0.587,0.114); \
                \
									vec3 color = texture2D(tex0,gl_TexCoord[0].st).rgb; \
									color = mix(avgLum,color,Contrast); \
									gl_FragColor = vec4(color,1.0);\
                }
	[/pixelshader]

	[param]
		name=Contrast
		type=ERPPT_F32
		size=1
		source=ERPPS_NODE
		default=1.1
	[/param]
[/renderpass]